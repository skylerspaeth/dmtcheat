<!DOCTYPE html>
<html>
	<head>
		<title>Draw My Thing Cheat</title>
	</head>
	<style>
		body {
			font-family: Arial, Helvetica, sans-serif;
			background-color:#ddffdd;
		}
		p {
			margin: 0px 0px;
		}
		table, th, td {
	    	border: none;
	    	border-collapse: collapse;
		}
		th, td {
	    	padding: 5px 5px;
	    	align: center;
		}
		input[type=text] {
			width: 20px;
			padding: 5px 10px;
			margin: 5px 0px;
			font-size: 16px;
			border: none;
			border-bottom: 3px solid #DDD;
	        -webkit-transition: 0.5s;
    		transition: 1s;
    		outline: none;
    		text-align: center;
		}
		input[type=text]:focus {
			border: none;
    		border-bottom: 3px solid black;
		}
		.toggle-radio {
			display: none;
		}
		.toggle-label { 
		    text-align: center; 
		    margin: 3px 3px;
		    padding: 5px 10px; 
		    color: #000; 
		    background-color: #FFF;
		    border: 3px solid #DDD;
		    border-radius: 5px; 
    		font-size: 16px;
    		font-weight: bold;
		    display: inline-block; 
 			cursor: pointer;
 	        -webkit-transition: 0.5s;
    		transition: 0.5s;
		}
		.toggle-label:hover {
    		border-color: #555;
    	}
    	.toggle-radio:checked + .toggle-label{
    		border-color: #000;
    	}
	</style>
	<body>
		<center>
		<br>
		Please share and give feedback!
		<table>
			<tr>
				<td><a href="./wordlist.html">Word List</a></td><td></td>
			</tr>
		</table>
		<h2 style="margin: 0px 0px;">Draw My Thing Cheat</h2><br>
		Select the word length
		<table>
			<tr>
				<form autocomplete="off">
				<td><input type="radio" class="toggle-radio" id="length2" name="length"/>
				<label onclick="changeLength(2)" class="toggle-label" for="length2">2</label>
				<input type="radio" class="toggle-radio" id="length3" name="length"/>
				<label onclick="changeLength(3)" class="toggle-label" for="length3">3</label>
				<input type="radio" class="toggle-radio" id="length4" name="length"/>
				<label onclick="changeLength(4)" class="toggle-label" for="length4">4</label>
				<input type="radio" class="toggle-radio" id="length5" name="length" checked="checked"/>
				<label onclick="changeLength(5)" class="toggle-label" for="length5">5</label>
				<input type="radio" class="toggle-radio" id="length6" name="length"/>
				<label onclick="changeLength(6)" class="toggle-label" for="length6">6</label>
				<input type="radio" class="toggle-radio" id="length7" name="length"/>
				<label onclick="changeLength(7)" class="toggle-label" for="length7">7</label>
				<input type="radio" class="toggle-radio" id="length8" name="length"/>
				<label onclick="changeLength(8)" class="toggle-label" for="length8">8</label>
				<input type="radio" class="toggle-radio" id="length9" name="length"/>
				<label onclick="changeLength(9)" class="toggle-label" for="length9">9</label>
				<input type="radio" class="toggle-radio" id="length10" name="length"/>
				<label onclick="changeLength(10)" class="toggle-label" for="length10">10</label>
				<input type="radio" class="toggle-radio" id="length11" name="length"/>
				<label onclick="changeLength(11)" class="toggle-label" for="length11">11</label></td>
				<td><input type="radio" class="toggle-radio" id="length12" name="length"/>
				<label onclick="changeLength(12)" class="toggle-label" for="length12">+</label></td>
				</form>
			</tr>
		<table>

		<p id="enterhints"><br>Enter the hints below</p>
		<table>
			<tr>
				<td id="cell1"><input type="text" placeholder="1" id="input1" oninput="enterHint(this.value)"/></td>
				<td id="cell2"><input type="text" placeholder="2" id="input2" oninput="enterHint(this.value)"/></td>
				<td id="cell3"><input type="text" placeholder="3" id="input3" oninput="enterHint(this.value)"/></td>
				<td id="cell4"><input type="text" placeholder="4" id="input4" oninput="enterHint(this.value)"/></td>
				<td id="cell5"><input type="text" placeholder="5" id="input5" oninput="enterHint(this.value)"/></td>
				<td id="cell6"><input type="text" placeholder="6" id="input6" oninput="enterHint(this.value)"/></td>
				<td id="cell7"><input type="text" placeholder="7" id="input7" oninput="enterHint(this.value)"/></td>
				<td id="cell8"><input type="text" placeholder="8" id="input8" oninput="enterHint(this.value)"/></td>
				<td id="cell9"><input type="text" placeholder="9" id="input9" oninput="enterHint(this.value)"/></td>
				<td id="cell10"><input type="text" placeholder="10" id="input10" oninput="enterHint(this.value)"/></td>
				<td id="cell11"><input type="text" placeholder="11" id="input11" oninput="enterHint(this.value)"/></td>
			</tr>
		</table>

		<br><i><p id="multiplewords"></p></i>
		<br><b>WORD LIST</b><br>
		<p id="wordcount"><p>
		<hr style="width: 300px; border: 1px solid black;">
		<p id="wordlist"></p>
		</center>

		<script>
			var default_length = 5
			var wordLength = default_length
			var wordList = []

			function enterHint(val) {
				val = val.replace(/[^a-zA-Z]/g, '').toUpperCase();    // Remove all non alphabetic characters
				val = val.charAt(val.length-1);                       // Use last input
				document.getElementById(event.target.id).value = val; // Replace the value in the input

				findWords(); // Find possible words
			}

			function changeLength(len) {
				// Show the correct amount of textboxes
				wordLength = len
				if (wordLength == 12) {wordLength = 0}  // Only word list will be displayed
				for (i = 1; i < 12; i++) {
					if (i <= wordLength) {
						document.getElementById("cell" + i).style.display = "inline-block"; // Show it
					} else {
						document.getElementById("cell" + i).style.display = "none";  // Hide it
					}
					document.getElementById("input" + i).value = "";
				}	

				if (wordLength == 0) {wordLength = 12}
				findWords();  // Show all word with that length
			}

			function loadWords() {
				var fileName = "./word_list.txt"
			    var rawFile = new XMLHttpRequest();
			    rawFile.open("GET", fileName, false);
			    rawFile.onreadystatechange = function () {
		        	if(rawFile.readyState === 4)
		        	{
		            	if(rawFile.status === 200 || rawFile.status == 0)
		            	{
		            	    var fileContent = rawFile.responseText;
		             	    wordList = fileContent.split(",");
		            	    document.getElementById("wordlist").innerHTML =  fileContent;
		           		}
		        	}
		    	}
		    	rawFile.send(null);
			}		

			function findWords() {
				var wordsFound = []
				for (i = 0; i < wordList.length; i++) {
					if (wordList[i].length == wordLength || wordLength == 12) {
						if ((wordLength != 12 && wordList[i].search(" ") == -1) || (wordLength == 12 && wordList[i].search(" ") != -1)) {
							var ok = true;
							if (wordLength != 12) {
								for (j = 0; j < wordLength; j++) {
									var letter = document.getElementById("input" + (j+1)).value;
									if (wordList[i].charAt(j).toUpperCase() != letter && letter != "") {
										ok = false;
										break;
									}
								}
							}
							if (ok) {wordsFound.push(wordList[i])}
						}
					}
				}

				var list = wordsFound.toString().replace(/,/g, "<br>");  // Convert array to text list
				document.getElementById("wordlist").innerHTML = list;  // Print the words

				var count = wordsFound.length + " words were found out of " + wordList.length;      // 2+ words found
				if (wordsFound.length == 1) {count = "1 word was found out of " + wordList.length}  // 1 word found
				if (wordsFound.length == 0) {count = "No word was found out of " + wordList.length} // No word found
				document.getElementById("wordcount").innerHTML = count;

				if (wordLength == 12) {
					document.getElementById("multiplewords").innerHTML =  "Find the word in the word list below";
					document.getElementById("enterhints").style.display = "none";
				} else {
					document.getElementById("multiplewords").innerHTML = "";
					document.getElementById("enterhints").style.display = "inline";
				}
			}

			changeLength(default_length); // Set default length to 6
			loadWords(); // Load words from file
			findWords(); // Show the word with 6 letters
		</script>
	</body>
</html>
